<!doctype html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="chrome=1"><title>h2zero by synapticloop</title><link rel="stylesheet" href="stylesheets/styles.css"><link rel="stylesheet" href="stylesheets/pygment_trac.css"><link rel="stylesheet" href="stylesheets/prettify.css" type="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"><!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]--><script src="javascripts/prettify.js" type="text/javascript" ></script></head><body><div class="wrapper"><header><h1>h2zero</h1><p>An Object Relationship Mapper (ORM) generator for Java, MySQL and optionally a J2EE container</p><hr /><h2>Navigation</h2><p>&raquo; <a href="index.html">Home</a><br />&raquo; <a href="quick-start.html">Quick Start</a><br />&raquo; <a href="allowable-keys.html">Allowable Keys</a><br />&raquo; <a href="database-naming-conventions.html">Database Naming Conventions</a><br />&raquo; <a href="generated-code.html">Generated Code</a><br />&raquo; <a href="method-signatures.html">Method Signatures</a><br />&raquo; <a href="validators.html">Validators</a><br />&raquo; <a href="taglibs.html">Tag libraries</a><br />&raquo; <a href="clauses-and-fields.html">Clauses and Fields</a><br /></p><hr /><p>&raquo; <a href="file-format.html">File Format</a><br />&raquo; <a href="options.html">Options</a><br />&raquo; <a href="database.html">Database</a><br />&raquo; <a href="tables.html">Tables</a><br />&mdash;&raquo; <a href="fields.html">Fields</a><br />&mdash;&raquo; <a href="finders.html">Finders</a><br />&mdash;&raquo; <a href="field-finders.html">Field Finders</a><br />&mdash;&raquo; <a href="deleters.html">Deleters</a><br />&mdash;&raquo; <a href="inserters.html">Inserters</a><br />&mdash;&raquo; <a href="updaters.html">Updaters</a><br />&mdash;&raquo; <a href="questions.html">Questions</a><br />&mdash;&raquo; <a href="counters.html">Counters</a><br />&mdash;&raquo; <a href="constants.html">Constants</a><br />&raquo; <a href="views.html">Views</a><br />&mdash;&raquo; <a href="view-finders.html">Finders</a><br />&mdash;&raquo; <a href="view-field-finders.html">Field Finders</a><br />&mdash;&raquo; <a href="view-questions.html">Questions</a><br />&mdash;&raquo; <a href="view-counters.html">Counters</a><br /></p><hr /><p class="view"><a href="https://github.com/synapticloop/h2zero">View the Project on GitHub <small>synapticloop/h2zero</small></a></p><ul><li><a href="https://github.com/synapticloop/h2zero/zipball/master">Download <strong>ZIP File</strong></a></li><li><a href="https://github.com/synapticloop/h2zero/tarball/master">Download <strong>TAR Ball</strong></a></li><li><a href="https://github.com/synapticloop/h2zero">View On <strong>GitHub</strong></a></li></ul><p>This project is maintained by <a href="https://github.com/synapticloop">synapticloop</a> and these pages were generated with <a href="https://github.com/synapticloop/templar&raquo;gen/">synapticloop templar&raquo;gen</a></p></header><section><h3><a id="h2zero-page" class="anchor" href="#h2zero-page" aria-hidden="true"></a>Documentation for the "<code>constants</code>" JSON key.</h3><p>As the name would suggest constants are designed to contain un-changing data that can be referenced from other parts of the codebase to ensure that there is a tight-coupling of the data and consistency throughout the code.</p><ul><li><code>src/main/java/synapticloop/h2zero/model/UserType.java</code><br />[<a href="src/main/java/synapticloop/h2zero/model/UserType.java">plain java</a> | <a href="src/main/java/synapticloop/h2zero/model/UserType.java.html">pretty-printed</a>]</li></ul><pre class="prettyprint"><code>"tables": [
	{
		"name": "user_type",
		"cacheable": false,
		"cacheFindAll": false,
		"fields": [
			{ "name": "id_user_type", "type": "bigint", "nullable": false, "primary": true },
			{ "name": "nm_user_type", "type": "varchar", "length": "32", "nullable": false},
		],
		"constants": [
			{ "name": "NORMAL", "values": [ 1, "normal" ] },
			{ "name": "SPECIAL", "values": [ 2, "special" ] },
			{ "name": "ADMIN", "values": [ 3, "admin" ] },
			{ "name": "SUPER_ADMIN", "values": [ 4, "super admin" ] }
		]
	}
]
</code></pre><p>The generated code for the <code>UserType</code> is an example of a generated constant model.  Constant models can not be modified in any way and as such the following interactions can not be generated:</p><ul><li>Updaters</li><li>Deleters</li><li>Inserters</li></ul><p>You may however genereate the following interactions:</p><ul><li>Questions</li><li>Counters</li><li>Finders</li></ul><p>The reasoning behind constant models is to allow fast lookup on data that doesn't change, so the utility of the interactions is questionable.</p><h4>Models in General</h4><p>Models come in two flavours, regular and constant.  They both share some base features and functionality asdetailed below:</p><p><strong>BINDER</strong></p><pre class="prettyprint lang-java"><code>// the binder is unused in code, but will generate compile problems if this 
// class is no longer referenced in the h2zero file. Just a nicety for
// removing dead code
@SuppressWarnings("unused")
private static final String BINDER = Constants.USER_TYPE_binder;
</code></pre><p>As mentioned in the comments above the field, the <code>BINDER</code> is only used as a compile time error so that dead code can be removed.  Most of the generated code contains this code that references the constant. This will ensure that when model names are changed, or any of tyhe interaction names are changed (e.g. finders, questions, counters etc.) </p><p><strong>PRIMARY_KEY_FIELD</strong></p><pre class="prettyprint lang-java"><code>public static final String PRIMARY_KEY_FIELD = "id_user_type";
</code></pre><p>This is a reference to the primary key field in the database.  Every table (and therefore every model) must have a primary key on it.</p><p><strong>Member variable declarations</strong></p><p>Each field that is attached to the table will generate a declaration.</p><pre class="prettyprint lang-java"><code>private Long idUserType = null;
private String nmUserType = null;
</code></pre><p><strong>Constructor</strong></p><p>Every model has a constructor with a signature that contains all of the fields.  Despite the fact that you cannot create new constants, the constant models still include a constructor for use with finders, counters and questions.</p><pre class="prettyprint lang-java"><code>public UserType(Long idUserType, String nmUserType) {
	this.idUserType = idUserType;
	this.nmUserType = nmUserType;
}
</code></pre><p><strong>Getters</strong></p><pre class="prettyprint lang-java"><code>/*
 * Boring ol' getters and setters 
 */

public Long getIdUserType() {return(this.idUserType);}
public String getNmUserType() {return(this.nmUserType);}
</code></pre><p>Getters are generated (in condensed format) for each field on the table.  No setters are generated for constant models as you may not change constants.</p><p><strong>String methods</strong></p><pre class="prettyprint lang-java"><code>public String toString() {
	StringBuilder stringBuilder = new StringBuilder();
	stringBuilder.append("Model[UserType]\n");
	stringBuilder.append("  Field[idUserType:" + this.idUserType + "]\n");
	stringBuilder.append("  Field[nmUserType:" + this.nmUserType + "]\n");
	return(stringBuilder.toString());
}

public String toJsonString() {
	// !!! work in progress !!!
	StringBuilder stringBuilder = new StringBuilder();
	stringBuilder.append("{\n");
	stringBuilder.append("  \"model\": {\n");
	stringBuilder.append("    \"name\": \"UserType\",\n");
	stringBuilder.append("    \"fields\": [\n");
	stringBuilder.append("     { \"name\": \"idUserType\", \"value\": " + this.idUserType + " }, \n");
	stringBuilder.append("     { \"name\": \"nmUserType\", \"value\": \"" + this.nmUserType + "\" }\n");
	stringBuilder.append("    ]\n");
	stringBuilder.append("  }\n");
	stringBuilder.append("}\n");
	return(stringBuilder.toString());
}

public String getJsonString() {
	return(toJsonString());
}
</code></pre><p>The string methods are automatically generated for each model.  As the comment notes above, it is a work in progress.  Care must be taken when utilising this method on sensitive information contained within the model, e.g. passwords, credit card details etc.</p><p>The <code>getJsonString()</code> method signature above is for JSTL or templar referencing for output.</p><h4>Additional methods and member variables</h4><p>In addition to the general generation mentioned above, for each of the constant models, the following field and method signatures are generated:</p><p><strong>Static Final Member Variable References</strong></p><pre class="prettyprint lang-java"><code>public static final UserType NORMAL = new UserType(new Long(1), "normal");
public static final UserType SPECIAL = new UserType(new Long(2), "special");
public static final UserType ADMIN = new UserType(new Long(3), "admin");
public static final UserType SUPER_ADMIN = new UserType(new Long(4), "super admin");
</code></pre><p>For each of the constant definitions a <code>public static final</code> member variable is generated which can then be referenced from other parts of the code.  Should any of the constants be renamed, deleted or removed, compiler errors are generated.</p><p><strong>Static lookup member variables</strong></p><pre class="prettyprint lang-java"><code>public static UserType[] ALL = {
	UserType.NORMAL, UserType.SPECIAL, UserType.ADMIN, UserType.SUPER_ADMIN
};

public static HashMap&gt;Long, UserType&lt; ALL_LOOKUP = new HashMap&gt;Long, UserType&lt;();
static{
	ALL_LOOKUP.put(new Long(1), UserType.NORMAL);
	ALL_LOOKUP.put(new Long(2), UserType.SPECIAL);
	ALL_LOOKUP.put(new Long(3), UserType.ADMIN);
	ALL_LOOKUP.put(new Long(4), UserType.SUPER_ADMIN);
};
</code></pre><p>The static lookup member variables allow quick lookups from other parts of the code and ensure with tight-binding that should they change at any point in time that any referenced code will fail with compile time errors</p><pre><code></code></pre></section></div><script src="javascripts/scale.fix.js"></script></body></html>